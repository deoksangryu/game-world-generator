<!-- 
====================================
ë¬´ê¸° ë·°ì–´ ì»´í¬ë„ŒíŠ¸ í…œí”Œë¦¿
====================================
NPCê°€ ì œì‘í•œ ë¬´ê¸°ì˜ ìƒì„¸ ì •ë³´ë¥¼ 3D ëª¨ë¸ê³¼ í•¨ê»˜ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

ì£¼ìš” êµ¬ì„±:
1. ë¬´ê¸° í—¤ë” - ì´ë¦„ê³¼ í¬ê·€ë„ í‘œì‹œ
2. 3D ë·°ì–´ - Three.js ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ 3D ëª¨ë¸
3. ë¬´ê¸° ìŠ¤íƒ¯ - ê³µê²©ë ¥, ë‚´êµ¬ë„ ë“± ê²Œì„ ìˆ˜ì¹˜
4. ì œì‘ ì¬ë£Œ - ë¬´ê¸° ì œì‘ì— ì‚¬ìš©ëœ ì¬ë£Œ ëª©ë¡
5. ë§ˆë²• ë¶€ì—¬ - ì ìš©ëœ ì¸ì±ˆíŠ¸ íš¨ê³¼ë“¤
6. ë¬´ê¸° ì„¤ëª… - ìƒì„¸ ì„¤ëª… í…ìŠ¤íŠ¸
-->

<div class="weapon-viewer-container">
  <!-- ==================== ë¬´ê¸° í—¤ë” (ì´ë¦„/í¬ê·€ë„) ==================== -->
  <div class="weapon-header">
    <!-- ë¬´ê¸° ì´ë¦„ -->
    <h4 class="weapon-name">{{ weapon.name }}</h4>
    <!-- í¬ê·€ë„ ë°°ì§€ (ìƒ‰ìƒì€ ë“±ê¸‰ì— ë”°ë¼ ë™ì  ë³€ê²½) -->
    <span class="weapon-rarity" [style.color]="getRarityColor(weapon.rarity)">
      {{ getRarityText(weapon.rarity) }}
    </span>
  </div>

  <!-- ==================== 3D ë·°ì–´ ì˜ì—­ ==================== -->
  <!-- Three.jsë¡œ ë Œë”ë§ë˜ëŠ” ì¸í„°ë™í‹°ë¸Œ 3D ë¬´ê¸° ëª¨ë¸ -->
  <div class="weapon-3d-viewer">
    <!-- Three.js ìº”ë²„ìŠ¤ (TypeScriptì—ì„œ ì œì–´) -->
    <canvas #canvas class="weapon-canvas"></canvas>
    <!-- ì‚¬ìš©ì ì¡°ì‘ ê°€ì´ë“œ -->
    <div class="viewer-controls">
      <span class="control-hint">ğŸ–±ï¸ ë“œë˜ê·¸í•˜ì—¬ íšŒì „ â€¢ íœ ë¡œ í™•ëŒ€/ì¶•ì†Œ</span>
    </div>
  </div>

  <!-- ==================== ë¬´ê¸° ìŠ¤íƒ¯ ì •ë³´ ==================== -->
  <div class="weapon-stats">
    <!-- ë¬´ê¸° ì¢…ë¥˜ -->
    <div class="stat-row">
      <span class="stat-label">ì¢…ë¥˜:</span>
      <span class="stat-value">{{ weapon.weaponType }}</span>
    </div>
    <!-- ê³µê²©ë ¥ ìˆ˜ì¹˜ -->
    <div class="stat-row">
      <span class="stat-label">ê³µê²©ë ¥:</span>
      <span class="stat-value damage">{{ weapon.damage }}</span>
    </div>
    <!-- ë‚´êµ¬ë„ ìˆ˜ì¹˜ -->
    <div class="stat-row">
      <span class="stat-label">ë‚´êµ¬ë„:</span>
      <span class="stat-value durability">{{ weapon.durability }}</span>
    </div>
  </div>

  <!-- ==================== ì œì‘ ì¬ë£Œ ì„¹ì…˜ ==================== -->
  <!-- ë¬´ê¸° ì œì‘ì— ì‚¬ìš©ëœ ì¬ë£Œë“¤ì„ íƒœê·¸ í˜•íƒœë¡œ í‘œì‹œ -->
  <div class="weapon-materials" *ngIf="weapon.materials.length > 0">
    <h5>ì œì‘ ì¬ë£Œ</h5>
    <div class="materials-list">
      <span *ngFor="let material of weapon.materials" class="material-tag">
        {{ material }}
      </span>
    </div>
  </div>

  <!-- ==================== ë§ˆë²• ë¶€ì—¬ ì„¹ì…˜ ==================== -->
  <!-- ë¬´ê¸°ì— ì ìš©ëœ ì¸ì±ˆíŠ¸ íš¨ê³¼ë“¤ì„ í‘œì‹œ (ìˆëŠ” ê²½ìš°ì—ë§Œ) -->
  <div class="weapon-enchantments" *ngIf="weapon.enchantments && weapon.enchantments.length > 0">
    <h5>ë§ˆë²• ë¶€ì—¬</h5>
    <div class="enchantments-list">
      <span *ngFor="let enchantment of weapon.enchantments" class="enchantment-tag">
        âœ¨ {{ enchantment }}
      </span>
    </div>
  </div>

  <!-- ==================== ë¬´ê¸° ìƒì„¸ ì„¤ëª… ==================== -->
  <div class="weapon-description">
    <p>{{ weapon.description }}</p>
  </div>
</div> 