<!-- 
====================================
ë§ˆë²• ë·°ì–´ ì»´í¬ë„ŒíŠ¸ í…œí”Œë¦¿
====================================
NPCê°€ ì—°êµ¬í•œ ë§ˆë²•ì˜ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

ì£¼ìš” êµ¬ì„±:
1. ë§ˆë²• í—¤ë” - ì´ë¦„, ì¢…ë¥˜, í•™íŒŒ, ë ˆë²¨ ë°°ì§€
2. ë§ˆë²• ìŠ¤íƒ¯ - ë§ˆë‚˜ ì†Œëª¨, ì‹œì „ ì‹œê°„, ì§€ì† ì‹œê°„, ì‚¬ê±°ë¦¬
3. ë§ˆë²• ì„¤ëª… - ìŠ¤í† ë¦¬ ë° ë°°ê²½ ì„¤ëª…
4. ë§ˆë²• íš¨ê³¼ - ì‹¤ì œ ê²Œì„ì—ì„œì˜ íš¨ê³¼ë“¤ê³¼ ìˆ˜ì¹˜
5. êµ¬ì„± ìš”ì†Œ - ë§ˆë²• ì‹œì „ì— í•„ìš”í•œ ì¬ë£Œë“¤
6. ì‹œê° íš¨ê³¼ - CSS ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ êµ¬í˜„í•œ ë§ˆë²•ì§„
-->

<div class="magic-viewer-container">
  <!-- ==================== ë§ˆë²• í—¤ë” (ì´ë¦„/ë°°ì§€) ==================== -->
  <div class="magic-header">
    <!-- ë§ˆë²• ì´ë¦„ -->
    <h4 class="magic-name">{{ magic.name }}</h4>
    <!-- ë§ˆë²• ë¶„ë¥˜ ë°°ì§€ë“¤ -->
    <div class="magic-badges">
      <!-- ë§ˆë²• ì¢…ë¥˜ ë°°ì§€ (ê³µê²©, ë°©ì–´, ì§€ì› ë“±) -->
      <span class="magic-type" [style.background-color]="getMagicTypeColor(magic.magicType)">
        {{ getMagicTypeText(magic.magicType) }}
      </span>
      <!-- ë§ˆë²• í•™íŒŒ ë°°ì§€ -->
      <span class="magic-school" [style.background-color]="getSchoolColor(magic.school)">
        {{ magic.school }}
      </span>
      <!-- ë§ˆë²• ë ˆë²¨ ë°°ì§€ -->
      <span class="magic-level" [style.background-color]="getLevelColor(magic.level)">
        {{ getLevelText(magic.level) }} {{ magic.level }}ë ˆë²¨
      </span>
    </div>
  </div>

  <!-- ==================== ë§ˆë²• ìŠ¤íƒ¯ ì •ë³´ ==================== -->
  <div class="magic-stats">
    <div class="stat-grid">
      <!-- ë§ˆë‚˜ ì†Œëª¨ëŸ‰ (ìƒ‰ìƒìœ¼ë¡œ ë†’ë‚®ì´ í‘œì‹œ) -->
      <div class="stat-item">
        <span class="stat-label">ë§ˆë‚˜ ì†Œëª¨:</span>
        <span class="stat-value mana" [style.color]="getManaCostColor(magic.manaCost)">
          {{ magic.manaCost }}
        </span>
      </div>
      <!-- ì‹œì „ ì‹œê°„ -->
      <div class="stat-item">
        <span class="stat-label">ì‹œì „ ì‹œê°„:</span>
        <span class="stat-value">{{ magic.castingTime }}</span>
      </div>
      <!-- ì§€ì† ì‹œê°„ -->
      <div class="stat-item">
        <span class="stat-label">ì§€ì† ì‹œê°„:</span>
        <span class="stat-value">{{ formatDuration(magic.duration) }}</span>
      </div>
      <!-- ì‚¬ê±°ë¦¬ -->
      <div class="stat-item">
        <span class="stat-label">ì‚¬ê±°ë¦¬:</span>
        <span class="stat-value">{{ magic.range }}</span>
      </div>
    </div>
  </div>

  <!-- ==================== ë§ˆë²• ì„¤ëª… ==================== -->
  <div class="magic-description">
    <p>{{ magic.description }}</p>
  </div>

  <!-- ==================== ë§ˆë²• íš¨ê³¼ ëª©ë¡ ==================== -->
  <div class="magic-effects">
    <h5>âœ¨ íš¨ê³¼</h5>
    <div class="effects-list">
      <!-- ê°œë³„ ë§ˆë²• íš¨ê³¼ -->
      <div *ngFor="let effect of magic.effects" class="effect-item">
        <!-- íš¨ê³¼ í—¤ë” (ì•„ì´ì½˜, ì¢…ë¥˜, ìˆ˜ì¹˜) -->
        <div class="effect-header">
          <!-- íš¨ê³¼ ì¢…ë¥˜ ì•„ì´ì½˜ -->
          <span class="effect-icon">{{ getEffectTypeIcon(effect.type) }}</span>
          <!-- íš¨ê³¼ ì¢…ë¥˜ (ìƒ‰ìƒìœ¼ë¡œ êµ¬ë¶„) -->
          <span class="effect-type" [style.color]="getEffectTypeColor(effect.type)">
            {{ getEffectTypeText(effect.type) }}
          </span>
          <!-- íš¨ê³¼ ìˆ˜ì¹˜ -->
          <span class="effect-value">{{ effect.value }}</span>
          <!-- íš¨ê³¼ ì§€ì† ì‹œê°„ (ìˆëŠ” ê²½ìš°) -->
          <span *ngIf="effect.duration" class="effect-duration">
            ({{ effect.duration }}ì´ˆ)
          </span>
        </div>
        <!-- íš¨ê³¼ ìƒì„¸ ì„¤ëª… -->
        <div class="effect-description">
          {{ effect.description }}
        </div>
      </div>
    </div>
  </div>

  <!-- ==================== ë§ˆë²• êµ¬ì„± ìš”ì†Œ (ìˆëŠ” ê²½ìš°ì—ë§Œ) ==================== -->
  <div class="magic-components" *ngIf="magic.components.length > 0">
    <h5>ğŸ§ª êµ¬ì„± ìš”ì†Œ</h5>
    <div class="components-list">
      <!-- ê°œë³„ êµ¬ì„± ìš”ì†Œ íƒœê·¸ -->
      <span *ngFor="let component of magic.components" class="component-tag">
        {{ component }}
      </span>
    </div>
  </div>

  <!-- ==================== ë§ˆë²•ì§„ ì‹œê° íš¨ê³¼ ==================== -->
  <!-- CSS ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ êµ¬í˜„ëœ ë§ˆë²•ì§„ ë””ìì¸ -->
  <div class="magic-visual-effect">
    <div class="spell-circle">
      <!-- 3ì¤‘ ì›í˜• êµ¬ì¡° -->
      <div class="circle-outer"></div>
      <div class="circle-middle"></div>
      <div class="circle-inner"></div>
      <!-- í•™íŒŒ ì²« ê¸€ì ì‹¬ë³¼ -->
      <div class="magic-symbol">{{ magic.school.charAt(0) }}</div>
    </div>
  </div>
</div> 